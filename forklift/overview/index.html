<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.99.0"><meta name=description content><link rel=icon href=/images/favicon.png type=image/png><title>Forklift Overview - Documentation for Konveyor projects</title><link href=/css/nucleus.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet><link href=/css/hybrid.css rel=stylesheet><link href=/css/featherlight.min.css rel=stylesheet><link href=/css/perfect-scrollbar.min.css rel=stylesheet><link href=/css/auto-complete.css rel=stylesheet><link href=/css/atom-one-dark-reasonable.css rel=stylesheet><link href=/css/theme.css rel=stylesheet><link href=/css/tabs.css rel=stylesheet><link href=/css/hugo-theme.css rel=stylesheet><link href=/css/theme-konveyor.css rel=stylesheet><link href=/css/foo.css rel=stylesheet><link href=/css/bar.css rel=stylesheet><script src=/js/jquery-3.3.1.min.js></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/forklift/overview/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=/><img src=/images/konveyor_logo.png></img></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js></script>
<script type=text/javascript src=/js/auto-complete.js></script>
<script type=text/javascript>var baseurl="http://konveyor.github.io/"</script><script type=text/javascript src=/js/search.js></script></div><div class=highlightable><ul class=topics><li data-nav-id=/crane/ title=Crane class=dd-item><a href=/crane/><b>1 </b>Crane</a><ul><li data-nav-id=/crane/overview/ title="Crane overview" class=dd-item><a href=/crane/overview/>Crane overview</a></li><li data-nav-id=/crane/tutorials/ title=Tutorials class=dd-item><a href=/crane/tutorials/>Tutorials</a><ul><li data-nav-id=/crane/tutorials/statelessappmirror/ title="Tutorial: Stateless application mirror" class=dd-item><a href=/crane/tutorials/statelessappmirror/>Tutorial: Stateless application mirror</a></li><li data-nav-id=/crane/tutorials/migratek8cluster/ title="Tutorial: Migrating a Kubernetes cluster" class=dd-item><a href=/crane/tutorials/migratek8cluster/>Tutorial: Migrating a Kubernetes cluster</a></li></ul></li><li data-nav-id=/crane/tools/ title=Tools class=dd-item><a href=/crane/tools/>Tools</a><ul><li data-nav-id=/crane/tools/gitopsintegration/ title="Integrating GitOps" class=dd-item><a href=/crane/tools/gitopsintegration/>Integrating GitOps</a></li><li data-nav-id=/crane/tools/customplugins/ title="Developing custom plugins" class=dd-item><a href=/crane/tools/customplugins/>Developing custom plugins</a></li><li data-nav-id=/crane/tools/tunnelapi/ title="Tunnel API" class=dd-item><a href=/crane/tools/tunnelapi/>Tunnel API</a></li><li data-nav-id=/crane/tools/pluginmanager/ title="Plugin Manager" class=dd-item><a href=/crane/tools/pluginmanager/>Plugin Manager</a></li></ul></li><li data-nav-id=/crane/usingcrane/ title="Using Crane" class=dd-item><a href=/crane/usingcrane/>Using Crane</a><ul><li data-nav-id=/crane/usingcrane/step1export/ title="Step One: Export" class=dd-item><a href=/crane/usingcrane/step1export/>Step One: Export</a></li><li data-nav-id=/crane/usingcrane/step2transform/ title="Step Two: Transform" class=dd-item><a href=/crane/usingcrane/step2transform/>Step Two: Transform</a></li><li data-nav-id=/crane/usingcrane/step3apply/ title="Step Three: Apply" class=dd-item><a href=/crane/usingcrane/step3apply/>Step Three: Apply</a></li></ul></li><li data-nav-id=/crane/installation/ title="Installing Crane" class=dd-item><a href=/crane/installation/>Installing Crane</a></li></ul></li><li data-nav-id=/forklift/ title=Forklift class="dd-item
parent"><a href=/forklift/><b>2 </b>Forklift</a><ul><li data-nav-id=/forklift/installingforklift/installation/ title="Installing the Forklift Operator" class=dd-item><a href=/forklift/installingforklift/installation/>Installing the Forklift Operator</a></li><li data-nav-id=/forklift/installingforklift/prereqs/ title=Prerequisites class=dd-item><a href=/forklift/installingforklift/prereqs/>Prerequisites</a></li><li data-nav-id=/forklift/overview/ title="Forklift Overview" class="dd-item active"><a href=/forklift/overview/>Forklift Overview</a></li></ul></li><li data-nav-id=/tackle/ title=Tackle class=dd-item><a href=/tackle/><b>3 </b>Tackle</a><ul><li data-nav-id=/tackle/overview/ title="Tackle Overview" class=dd-item><a href=/tackle/overview/>Tackle Overview</a></li><li data-nav-id=/tackle/upgrade/ title="Upgrading Tackle" class=dd-item><a href=/tackle/upgrade/>Upgrading Tackle</a></li><li data-nav-id=/tackle/webconsolesvcs/ title="Web Console Services" class=dd-item><a href=/tackle/webconsolesvcs/>Web Console Services</a></li><li data-nav-id=/tackle/manageusers/ title="Managing users and credentials" class=dd-item><a href=/tackle/manageusers/>Managing users and credentials</a></li><li data-nav-id=/tackle/manageassess/ title="Managing assessments" class=dd-item><a href=/tackle/manageassess/>Managing assessments</a></li><li data-nav-id=/tackle/manageapps/ title="Managing applications" class=dd-item><a href=/tackle/manageapps/>Managing applications</a></li><li data-nav-id=/tackle/additionaltools/ title="Additional tools" class=dd-item><a href=/tackle/additionaltools/>Additional tools</a></li><li data-nav-id=/tackle/installation/ title="Installing Tackle" class=dd-item><a href=/tackle/installation/>Installing Tackle</a></li></ul></li></ul><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links>Forklift Overview</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li></li></ul></li><li><a href=#migration-types>Migration Types</a><ul><li><a href=#cold-migration>Cold migration</a></li><li><a href=#warm-migration>Warm migration</a></li></ul></li><li><a href=#migration-stages>Migration Stages</a><ul><li><a href=#precopy-stage>Precopy stage</a></li><li><a href=#cutover-stage>Cutover stage</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Forklift Overview</h1><p>Forklift provides a simplistic way for large scale migration virtual machines at scale to Kubernetes from traditional hypervisors like VMware (vSphere) and Red Hat Virtualization (oVirt) to KubeVirt. Forklift is an open source tool based on proven core linux v2v technologies that can rehost a few or hundreds of VMs while minimizing downtime as it lifts and shifts the applications. The benefits of Forklift include:</p><ul><li><strong>Migration Analytics:</strong> Validate the compatibility of your virtual machine before executing your migration.</li><li><strong>Warm migrations:</strong> Reduce downtime by using warm migration capabilities, which will pre-copy your data before finalizing your migration.</li><li><strong>Migration at Scale:</strong> Migrate small or large amount of virtual machines at once.</li></ul><p>Forklift operates using the functionality of multiple projects:</p><ul><li><a href=https://github.com/konveyor/forklift-operator>Forklift Operator</a>. The Forklift Operator deploys and maintains Forklift.</li><li><a href=https://github.com/konveyor/forklift-ui>Forklift UI</a>. The Forklift UI is based on Patternfly 4.</li><li><a href=https://github.com/konveyor/forklift-controller>Forklift Controller</a>. The Forklift Controller orchestrates the migration.</li><li><a href=https://github.com/konveyor/forklift-validation>Forklift Validation</a>. The Forklift Validation service checks the virtual machines for possible issues before migration. Runs with Open Policy Agent.</li><li><a href=https://github.com/konveyor/forklift-must-gather>Forklift must-gather</a>. Support tool for gathering information about the Forklift environment.</li></ul><h4 id=additional-resources>Additional resources</h4><ul><li><a href=https://access.redhat.com/articles/6242511>Performance recommendations for migrating from VMware vSphere to OpenShift Virtualization.</a></li><li><a href=https://access.redhat.com/articles/6380311>Performance recommendations for migrating from Red Hat Virtualization to OpenShift Virtualization.</a></li></ul><h2 id=migration-types>Migration Types</h2><p>Forklift supports cold migration from oVirt (oVirt) and warm migration from both VMware vSphere and from oVirt.</p><h3 id=cold-migration>Cold migration</h3><p>Cold migration is the default migration type where the source&rsquo;s virtual machines are shut down while the data is copied.</p><h3 id=warm-migration>Warm migration</h3><p>Warm migration copies most of the data during the precopy stage while the source virtual machines (VMs) are running. During a time of minimal data transactions, the cutover stage shuts down the VMs and the remaining data is copied.</p><h2 id=migration-stages>Migration Stages</h2><p>Forklift operates in two stages, precopy and cutover.</p><h3 id=precopy-stage>Precopy stage</h3><p>The VMs are not shut down during the precopy stage. Instead the VM disks are copied incrementally using <a href=https://kb.vmware.com/s/article/1020128>changed block tracking (CBT)</a> snapshots. The snapshots are created at one-hour intervals by default but can be changed by updating the forklift-controller deployment.</p><p><strong>Important</strong> CBT must be enabled for each source VM and each VM disk.</p><p>A VM can support up to 28 CBT snapshots. If the source VM has too many CBT snapshots and the Migration Controller service is not able to create a new snapshot, warm migration might fail. The Migration Controller service deletes each snapshot when it is no longer required.</p><p>The precopy stage runs until the cutover stage is started manually or is scheduled to start.</p><h3 id=cutover-stage>Cutover stage</h3><p>The VMs are shut down during the cutover stage and the remaining data is migrated. Data stored in RAM is not migrated.</p><p>Start the cutover stage manually by using the Forklift console or by scheduling a cutover time in the Migration manifest.</p><footer class=footline></footer></div></div><div id=navigation></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js></script>
<script src=/js/perfect-scrollbar.min.js></script>
<script src=/js/perfect-scrollbar.jquery.min.js></script>
<script src=/js/jquery.sticky.js></script>
<script src=/js/featherlight.min.js></script>
<script src=/js/highlight.pack.js></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js></script>
<script src=/js/learn.js></script>
<script src=/js/hugo-learn.js></script>
<script src=https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!0})</script></body></html>